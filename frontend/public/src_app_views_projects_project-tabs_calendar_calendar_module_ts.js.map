{"version":3,"sources":["./src/app/views/projects/project-tabs/calendar/calendar-routing.module.ts","./src/app/views/projects/project-tabs/calendar/calendar.module.ts","./src/app/views/projects/project-tabs/calendar/calendar.page.ts","./src/app/views/projects/project-tabs/calendar/calendar.page.scss","./src/app/views/projects/project-tabs/calendar/calendar.page.html"],"names":[],"mappings":"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","file":"src_app_views_projects_project-tabs_calendar_calendar_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { CalendarPage } from './calendar.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n   \r\n    path: '',\r\n    component: CalendarPage,\r\n\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CalendarPageRoutingModule { }\r\n","import { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { CalendarPageRoutingModule } from './calendar-routing.module';\r\n\r\nimport { CalendarPage } from './calendar.page';\r\n\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    CalendarPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [CalendarPage],\r\n  providers: [ { provide: LOCALE_ID, useValue: 'es-Py' } ],\r\n})\r\nexport class CalendarPageModule {}\r\n","\r\nimport { Component, Inject, LOCALE_ID, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Shedule } from 'src/app/models/shedule';\r\nimport { SheduleService } from 'src/app/services/shedule/shedule.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Echo } from 'laravel-echo-ionic';\r\n\r\n@Component({\r\n  selector: 'app-calendar',\r\n  templateUrl: './calendar.page.html',\r\n  styleUrls: ['./calendar.page.scss'],\r\n})\r\nexport class CalendarPage implements OnInit {\r\n  public sheduleArray: Array<Shedule> = [];\r\n  public shedule: Shedule;\r\n  project_id = this.activatedRoute.snapshot.paramMap.get('id');\r\n\r\n  constructor(\r\n    private sheduleService: SheduleService,\r\n    private activatedRoute: ActivatedRoute,\r\n    private alertController: AlertController,\r\n    public storage: Storage,\r\n    @Inject(LOCALE_ID) private locale: string,\r\n\r\n  ) { }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.loadInfo();\r\n  }\r\n\r\n  loadInfo() {\r\n    this.storage.get(\"shedule\").then(data => {\r\n      if (data) {\r\n        var array = JSON.parse(data);\r\n\r\n\r\n        array.filter((shedule) => {\r\n     \r\n\r\n\r\n          if (shedule.project_id == this.project_id) {\r\n         \r\n         \r\n\r\n            this.sheduleArray.push(shedule);\r\n            this.sheduleArray.sort((a,b)=>new Date(a.sheduleDate).getTime()-new Date(b.sheduleDate).getTime());\r\n          };\r\n        })\r\n      } else {\r\n\r\n\r\n        this.updateData();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n  doConnection() {\r\n    const echo = new Echo({\r\n      broadcaster: 'pusher',\r\n      key: 'local',\r\n      wsHost: 'localhost',\r\n      wsPort: 6001,\r\n      forceTLS: false,\r\n      disableStats: true\r\n    });\r\n\r\n    const channel = echo.channel('channel');\r\n    channel.listen('Alert', (data) => {\r\n      console.log(JSON.stringify(data));\r\n      this.notification(data);\r\n      this.updateData();\r\n    });\r\n  }\r\n\r\n  updateData() {\r\n    this.sheduleService.getShedules().subscribe((p: Array<Shedule>) => {\r\n\r\n      this.storage.set(\"shedule\", JSON.stringify(p));\r\n      this.sheduleArray = p;\r\n    })\r\n  }\r\n\r\n  async notification(message: string) {\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      header: 'Se han realizado cambios',\r\n      message: message,\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n}","export default \"ion-content {\\n  --offset-bottom: auto!important;\\n  --overflow: hidden;\\n  overflow: auto;\\n}\\nion-content::-webkit-scrollbar {\\n  display: none;\\n}\\nion-card {\\n  border-radius: 0px;\\n}\\nion-card-title {\\n  font-size: 24px;\\n}\\n#separation-title {\\n  background-color: #006aab;\\n}\\nh2 {\\n  font-size: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGVuZGFyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FBQ0o7QUFBSTtFQUNJLGFBQUE7QUFFUjtBQUVBO0VBQ0ksa0JBQUE7QUFDSjtBQUtBO0VBQ0ksZUFBQTtBQUZKO0FBS0E7RUFDSSx5QkFBQTtBQUZKO0FBS0E7RUFDSSxlQUFBO0FBRkoiLCJmaWxlIjoiY2FsZW5kYXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1vZmZzZXQtYm90dG9tOiBhdXRvIWltcG9ydGFudDtcclxuICAgIC0tb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgJjo6LXdlYmtpdC1zY3JvbGxiYXIge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmlvbi1jYXJkIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDBweDtcclxuICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICNkNGFmYWY0YjtcclxuICAgIC8vIGJveC1zaGFkb3c6IDAgMCA1cHggcmdiKDY4LCA3MCwgNjcpO1xyXG4gICAgLy8gYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbn1cclxuXHJcbmlvbi1jYXJkLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxufVxyXG5cclxuI3NlcGFyYXRpb24tdGl0bGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNmFhYjtcclxufVxyXG5cclxuaDIge1xyXG4gICAgZm9udC1zaXplOiAyMHB4O1xyXG59Il19 */\";","export default \"<ion-content has-header>\\r\\n\\r\\n    <div id=\\\"container\\\" *ngFor=\\\"let shedule of sheduleArray\\\">\\r\\n        <ion-card>\\r\\n            <ion-card-header>\\r\\n                <ion-card-title> {{shedule.sheduleDate | date: 'EEEE, dd/MM/yyyy'}} </ion-card-title>\\r\\n\\r\\n\\r\\n\\r\\n            </ion-card-header>\\r\\n\\r\\n            <ion-card-content>\\r\\n\\r\\n\\r\\n                <ion-row>\\r\\n                    <h2 class=\\\"ion-padding-end\\\">{{shedule.sheduleTipe}} </h2>\\r\\n                    <h2 *ngIf=\\\"shedule.shedulehourRange!=''\\\"> {{shedule.shedulehourRange}} </h2>\\r\\n\\r\\n                </ion-row>\\r\\n                <h2 *ngIf=\\\"shedule.rooms\\\"> {{shedule.rooms.roomAcronym}}</h2>\\r\\n                <h2 *ngIf=\\\"shedule.sheduleNote!=''\\\"><b>Notas: </b>{{shedule.sheduleNote}} </h2>\\r\\n                <!-- <hr id=\\\"separation-title\\\"> -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            </ion-card-content>\\r\\n        </ion-card>\\r\\n    </div>\\r\\n</ion-content>\";"],"sourceRoot":"webpack:///"}